{% extends "index.html" %}
{% load static %}
<!--
{% block page_indicator %}
    Credit Risk Prediction Model
{% endblock page_indicator %}
-->
{% block content %}
<!-- Content Header (Page header) -->
<div class="content-header">
	<div class="d-flex align-items-center">
		<div class="me-auto">
			<h4 class="page-title">Credit Risk Prediction Model</h4>
			<div class="d-inline-block align-items-center">
				<nav>
					<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="#"><i class="mdi mdi-home-outline"></i></a></li>
						<li class="breadcrumb-item" aria-current="page">Model Inputs</li>
						<li class="breadcrumb-item active" aria-current="page">Please fill in the relevant fields correctly.</li>
					</ol>
				</nav>
			</div>
		</div>
	</div>
</div>
<!-- Main content -->
<section class="content">
    <div class="col-lg-9 col-12">
        <div class="box">
            <form class="form" action="{% url 'predictor:predict' %}" method="post">
                {% csrf_token %}
                <div class="box-body">
                    <div class="row form-row">
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="loan_amnt">Loan Amount ($)</label>
								<input class="form-control" type="number" step="1000" id="loan_amnt" name="loan_amnt" value="{{ form_data.loan_amnt}}" placeholder="example : 12,000 $" required >
							</div>
                        </div>
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
						        <label class="form-label" for="term">Term (Months)</label>
						        <select class="selectpicker form-control" id="term" name="term" data-style="btn-light form-control">
                                    <option class="form-control" value=" 36 months" {% if form_data.term == ' 36 months' %}selected{% endif %}>36 months</option>
                                    <option class="form-control" value=" 60 months" {% if form_data.term == ' 60 months' %}selected{% endif %}>60 months</option>
						        </select>
                                
					        </div>
                        </div>
                    </div>

                    <div class="row form-row">
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="int_rate">Interest Rate (%)</label>
								<input class="form-control" type="number" step="0.01" id="int_rate" name="int_rate" value="{{ form_data.int_rate }}" placeholder="example : 13.5 %" required>
							</div>
                        </div>
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="installment">Installment ($)</label>
								<input class="form-control" type="number" step="0.01" id="installment" name="installment" value="{{ form_data.installment }}" placeholder="example : 400 $" required>
							</div>
                        </div>
                    </div>

                    <div class="row form-row">
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
						        <label class="form-label" for="sub_grade">Credit Sub-Grade</label>
						        <select class="selectpicker form-control" id="sub_grade" name="sub_grade" data-style="btn-light form-control" >
                                    {% for grade in "ABCDEFG" %}
                                        {% for num in "12345" %}
                                        <option value="{{ grade }}{{ num }}" {% if form_data.sub_grade == grade|add:num %}selected{% endif %}>{{ grade }}{{ num }}</option>
                                        {% endfor %}
                                    {% endfor %}
						        </select>
					        </div>
                        </div>
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
						        <label class="form-label" for="home_ownership">Home Ownership</label>
						        <select class="selectpicker form-control" id="home_ownership" name="home_ownership" data-style="btn-light form-control" >
                                    <option value="RENT" {% if form_data.home_ownership == 'RENT' %}selected{% endif %}>RENT</option>
                                    <option value="MORTGAGE" {% if form_data.home_ownership == 'MORTGAGE' %}selected{% endif %}>MORTGAGE</option>
                                    <option value="OWN" {% if form_data.home_ownership == 'OWN' %}selected{% endif %}>OWN</option>

                                    <option value="ANY" {% if form_data.home_ownership == 'ANY' %}selected{% endif %}>ANY</option>
                                    <option value="NONE" {% if form_data.home_ownership == 'NONE' %}selected{% endif %}>NONE</option>
                                    <option value="OTHER" {% if form_data.home_ownership == 'OTHER' %}selected{% endif %}>OTHER</option>
						        </select>
                            </div>
                        </div>  
                    </div>

                    <div class="row form-row">
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="annual_inc">Annual Income ($)</label>
								<input class="form-control" type="number" step="1000" id="annual_inc" name="annual_inc" value="{{ form_data.annual_inc }}" placeholder="example : 65,000 $" required>
							</div>
                        </div>
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
						        <label class="form-label" for="verification_status">Verification Status</label>
						        <select class="selectpicker form-control" id="verification_status" name="verification_status" data-style="btn-light form-control" >
                                    <option value="Verified" {% if form_data.verification_status == 'Verified' %}selected{% endif %}>Verified</option>
                                    <option value="Source Verified" {% if form_data.verification_status == 'Source Verified' %}selected{% endif %}>Source Verified</option>
                                    <option value="Not Verified" {% if form_data.verification_status == 'Not Verified' %}selected{% endif %}>Not Verified</option>

                                    
						        </select>
                            </div>
                        </div>
                    </div>

                    <div class="row form-row">
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="issue_d">Issue Date</label>
								<input class="form-control" type="text" id="issue_d" name="issue_d" value="{{ form_data.issue_d }}" placeholder="example : Jan-2015" required>
							</div>
                        </div>
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="purpose">Purpose</label>
								<input class="form-control" type="text" id="purpose" name="purpose" value="{{ form_data.purpose }}" placeholder="example : debt_consolidation" required>
							</div>
                        </div>
                    </div>

                    <div class="row form-row">
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="dti">Dept To Income (%)</label>
								<input class="form-control" step="0.1" type="number" id="dti" name="dti" value="{{ form_data.dti }}" placeholder="example : 18.5 %" required>
							</div>
                        </div>
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="earliest_cr_line">Earliest Credit Line</label>
								<input class="form-control" type="text" id="earliest_cr_line" name="earliest_cr_line" value="{{ form_data.earliest_cr_line }}" placeholder="example : Jun-1990" required>
							</div>
                        </div>
                    </div>

                    <div class="row form-row">
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="open_acc">Open Account</label>
								<input class="form-control" type="number" id="open_acc" name="open_acc" value="{{ form_data.open_acc }}" placeholder="example : 12" required>
							</div>
                        </div>
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="pub_rec">Public Records</label>
								<input class="form-control" type="number" id="pub_rec" name="pub_rec" value="{{ form_data.pub_rec }}" placeholder="example : 0" required>
							</div>
                        </div>
                    </div>

                    <div class="row form-row">
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="revol_bal">Revol Balance ($)</label>
								<input class="form-control" type="number" id="revol_bal" name="revol_bal" value="{{ form_data.revol_bal }}" placeholder="example : 15,000 $" required>
							</div>
                        </div>
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="revol_util">Revol Utility (%)</label>
								<input class="form-control" type="number" step="0.1" id="revol_util" name="revol_util" value="{{ form_data.revol_util }}" placeholder="example : 45.5 %" required>
							</div>
                        </div>
                    </div>

                    <div class="row form-row">
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="total_acc">Total Accounts</label>
								<input class="form-control" type="number" id="total_acc" name="total_acc" value="{{ form_data.total_acc }}" placeholder="example : 25" required>
							</div>
                        </div>
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
						        <label class="form-label" for="application_type">Application Type</label>
						        <select class="selectpicker form-control" id="application_type" name="application_type" data-style="btn-light form-control">
                                    <option value="Individual" {% if form_data.application_type == 'Individual' %}selected{% endif %}>Individual</option>
                                    <option value="Joint" {% if form_data.application_type == 'Joint' %}selected{% endif %}>Joint</option>
                                    <option value="Direct_Pay" {% if form_data.application_type == 'Direct_Pay' %}selected{% endif %}>Direct_Pay</option>

                                    
						        </select>
                            </div>
                        </div>
                    </div>

                    <div class="row form-row">
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
						        <label class="form-label" for="initial_list_status">Initial List Status</label>
						        <select class="selectpicker form-control" id="initial_list_status" name="initial_list_status" data-style="btn-light form-control" >
                                    <option value="w" {% if form_data.initial_list_status == 'w' %}selected{% endif %}>Whole (w)</option>
                                    <option value="f" {% if form_data.initial_list_status == 'f' %}selected{% endif %}>Fractional (f)</option>
                                    
						        </select>
                            </div>
                        </div>
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="mort_acc">Mortgage Account</label>
								<input class="form-control" type="number" id="mort_acc" name="mort_acc" value="{{ form_data.mort_acc }}" placeholder="example : 2" required>
							</div>
                        </div>
                    </div>
                    
                    <div class="row form-row">
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="pub_rec_bankruptcies">Public Records Bankruptcies</label>
								<input class="form-control" type="number" id="pub_rec_bankruptcies" name="pub_rec_bankruptcies" value="{{ form_data.pub_rec_bankruptcies }}" placeholder="example : 2" required>
							</div>
                        </div>
                        <div class="col-md-6 form-col-fix">
                            <div class="form-group">
								<label class="form-label" for="address">Address</label>
								<input class="form-control" type="text" id="address" name="address" value="{{ form_data.address }}" placeholder="example : 123 Main St, Anytown, USA 12345" required>
							</div>
                        </div>
                    </div>
                </div>
                <div class="box-footer">
                    <button type="submit" class="btn btn-primary waves-effect waves-light">
                         
                            Give me result !
                    </button>
                </div>
            </form>
            {% if results %}
            <div class="row mt-4">
                <div class="col-12">
                    {% if 'Fully Paid' in results %}
                    <div class="alert alert-success" role="alert">
                        <h4 class="alert-heading"><i class="fa fa-check-circle me-2"></i> Prediction Result :</h4>
                        <p>{{ results }}</p>
                    </div>
                    {% else %}
                    <div class="alert alert-danger" role="alert">
                        <h4 class="alert-heading"><i class="fa fa-times-circle me-2"></i> Prediction Result :</h4>
                        <p>{{ results }}</p>
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endif %}
            
        </div>
    </div>

</section>
{% endblock content %}

